<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Profile</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='profile.css') }}">
</head>

<body>

<!-- Show navbar only when user is logged in -->
{% if session.get('username') %}
<nav class="navbar">
  <div class="nav-left">FindYourRSO</div>

  <div class="nav-right">
    <a href="/profile">Profile</a>
    <a href="/form">Find Clubs</a>
    <a href="/logout">Logout</a>
  </div>
</nav>

<!-- Add spacing so content isn't hidden under navbar -->
<style>
    body { padding-top: 90px; }
</style>
{% endif %}

<!-- Show original header only for visitors not logged in -->
{% if not session.get('username') %}
<header>
    <h1 class="logo">FindYourRSO</h1>
</header>
{% endif %}

<main>
    <!-- Profile page title -->
    <h2 class="greeting">FoundYourRSOs</h2>

    <div class="profile-card">

        <!-- Subtitle above saved clubs -->
        <p class="section-subtitle">
            Here is a list of your recommended and saved clubs and organizations
        </p>

        <!-- List of saved RSOs -->
        <div class="rso-list">
            {% if saved_rso %}
                {% for rso in saved_rso %}
                    <!-- Each saved club -->
                    <div class="rso-item" style="display:flex; justify-content:space-between; align-items:center;">
                        <span>{{ rso }}</span>

                        <!-- Remove button for each club -->
                        <form action="/delete_rso" method="POST" style="margin:0;">
                            <input type="hidden" name="rso_name" value="{{ rso }}">
                            <button type="submit" 
                                style="
                                    background-color:red; 
                                    color:white; 
                                    border:none;
                                    padding:6px 12px; 
                                    border-radius:5px;
                                    cursor:pointer;
                                    font-size:14px;
                                ">
                                Remove
                            </button>
                        </form>
                    </div>
                {% endfor %}
            {% else %}
                <!-- Message when user has no saved clubs -->
                <p>No RSOs saved yet.</p>
            {% endif %}
        </div>

    </div>
</main>

</body>
</html>
